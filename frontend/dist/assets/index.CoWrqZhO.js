import"./modulepreload-polyfill.YP0FEG5d.js";const o=new class{constructor(){this.isProduction=!0,this.maxRetentionDays=7}async logError(o,e={}){try{const r={message:o.message,stack:o.stack,url:window.location.href,userAgent:navigator.userAgent,timestamp:(new Date).toISOString(),...e};this.isProduction&&await fetch("/api/log-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).catch(()=>{})}catch(r){}}setupGlobalErrorHandling(){this.isProduction&&(window.addEventListener("error",o=>{this.logError(o.error||new Error(o.message),{type:"unhandled_error",filename:o.filename,lineno:o.lineno,colno:o.colno})}),window.addEventListener("unhandledrejection",o=>{this.logError(o.reason,{type:"unhandled_rejection"})}))}},e=window.location.pathname;"/"===e||"/home"===e||["/","/home","/auth","/browse","/account","/support"].includes(e)?window.location.href="/home":window.location.href="/404",o.setupGlobalErrorHandling(),window.addEventListener("error",e=>{o.logError(e.error)});
